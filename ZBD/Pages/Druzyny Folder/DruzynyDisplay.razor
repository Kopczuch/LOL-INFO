@page "/druzyny/{id}"
@using Services
@using Models
@inject IDruzynyService druzynyService
@inject NavigationManager navManager

<PageTitle>@id</PageTitle>
<h3>@team.Nazwa [@team.IdDruzyny] - Drużyna @team.Liga</h3>

<div class="image">
    <img src="@team.ZdjecieZawodnikow">
</div>

<div class="table">
    <table class="table">
        <thead>
            <tr>
                <th>NICK</th>
                <th>IMIE I NAZWISKO</th>
                <th>KRAJ</th>
                <th>ROLA</th>
            </tr>
            </thead>
            <tbody>
                @foreach (var member in members)
                {
                    <tr>
                        <td>@member.Nick</td>
                        <td>@member.ImieINazwisko</td>
                        <td>@member.Kraj</td>
                        <td>@member.Rola</td>
                    </tr>
                }
                    
            </tbody>
        </table>
</div>

<strong>Turnieje</strong>
<div class="table">
    <table class="table">
        <tr>
            <th>Nazwa</th>
            <th>Rodzaj</th>
            <th>Data</th>
            <th>Zajęte miejsce</th>
            <th>Ostatni wynik</th>
            <th>Nagroda</th>
        </tr>
        @foreach (var tournament in tournaments)
        {
            <tr>
                <td>@tournament.NazwaTurnieju</td>
                <td>@tournament.Rodzaj</td>
                <td>@tournament.Data</td>
                <td>@tournament.ZajeteMiejsce</td>
                <td>@tournament.OstatniWynik</td>
                <td>@tournament.Nagroda</td>
            </tr>
        }
    </table>
</div>

@code {
    [Parameter]
    public string id { get; set; }
    Druzyny team = new();
    List<GraczeZawodowi> members = new();

    protected override void OnInitialized()
    {
        team = druzynyService.GetById(id);
        members = druzynyService.GetMembers(id);
        base.OnInitialized();
	}
}
